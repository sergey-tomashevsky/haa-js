var e,t,s,n=Object.defineProperty,r=e=>{throw TypeError(e)},o=(e,t,s)=>((e,t,s)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s)(e,"symbol"!=typeof t?t+"":t,s),c=(e,t,s)=>(((e,t,s)=>{t.has(e)||r("Cannot "+s)})(e,t,"access private method"),s);class a{constructor(){o(this,"_observers",[])}run(){throw new Error("Page not implemented")}disconnect(){this._observers.forEach((e=>e.disconnect()))}}class d extends a{run(){const e=new MutationObserver((e=>{const t=document.getElementById("cardsList");if(!t)return;const s=window.ty.fullCardsListIndex.nid;t.querySelectorAll("#card-list-container .card:not(.customElement)").forEach((e=>{const t=document.createElement("div");t.classList.add("properties"),e.append(t);e.querySelector("img").setAttribute("loading","lazy"),e.classList.add("customElement");const n=s[e.getAttribute("data-cardid")];if(n&&n.cost){const e=document.createElement("div");e.setAttribute("data-name","cost"),e.setAttribute("data-value",n.cost+""),e.classList.add("property"),e.classList.add("mainProperty"),e.innerText=n.cost,t.append(e)}}))})),t=document.getElementById("wrapper");e.observe(t,{childList:!0,subtree:!0}),this._observers.push(e)}}const i=[{text:"Type",value:""},{text:"Hero",value:"hero"},{text:"Unit",value:"unit"},{text:"Spell",value:"spell"},{text:"Companion",value:"equip"}];class l extends a{run(){const e=new MutationObserver((()=>{const e=document.getElementById("libraryCards");if(!e)return;if(e.querySelector(".customSelect"))return;const t=document.createElement("select");t.classList.add("customSelect"),i.forEach((e=>{const s=document.createElement("option");s.text=e.text,s.value=e.value,t.add(s)})),e.querySelector("header .filters").prepend(t)})),t=document.getElementById("wrapper");e.observe(t,{childList:!0,subtree:!0}),this._observers.push(e)}}class u extends a{run(){const e=new MutationObserver((e=>{const t=document.getElementById("marketContainer");if(!t)return;if(t.querySelector(".customElement"))return;const s=document.createElement("a"),n=window.ty.dulst.subdomain;s.href=`/${n}/sets`,s.classList.add("customElement"),s.innerHTML="Sets",t.querySelector("header.page menu.secondaryMenu").append(s)})),t=document.getElementById("wrapper");e.observe(t,{childList:!0,subtree:!0}),this._observers.push(e)}}class m extends a{constructor(){var t,s,n;super(...arguments),t=this,(s=e).has(t)?r("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,n)}run(){const n=document.getElementById("wrapper"),r=new MutationObserver((()=>{const n=document.getElementById("setsContainer");n&&(n.querySelector(".customElement")||(c(this,e,t).call(this,n),c(this,e,s).call(this)))}));r.observe(n,{childList:!0,subtree:!0}),this._observers.push(r);new MutationObserver((()=>{const t=document.getElementById("dulstMenu");t&&(t.querySelector(".customElement")||c(this,e,s).call(this))})).observe(n,{childList:!0,subtree:!0})}}let h;function p(e){e.includes("/cards")&&(h=new d),e.includes("/decks")&&(h=new l),e.includes("/market")&&(h=new u),e.includes("/sets")&&(h=new m),h&&h.run()}e=new WeakSet,t=function(e){const t=e.querySelector("header.page menu.secondaryMenu a:first-child"),s=window.ty.dulst.subdomain;t.href=`/${s}/market`,t.classList.add("customElement"),t.innerHTML="Card Packs"},s=function(){document.querySelector("#header li.market").classList.add("active")},window.navigation.addEventListener("navigate",(e=>{h&&h.disconnect(),h=null,p(e.destination.url)})),p(window.location.href);
