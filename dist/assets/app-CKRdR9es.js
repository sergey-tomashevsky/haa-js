var e=Object.defineProperty,t=(t,n,r)=>((t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r)(t,"symbol"!=typeof n?n+"":n,r);class n{constructor(){t(this,"_observers",[])}run(){throw new Error("Page not implemented")}disconnect(){this._observers.forEach((e=>e.disconnect()))}}class r extends n{run(){const e=new MutationObserver((()=>{const e=document.getElementById("libraryCards");if(!e)return;if(e.querySelector(".customElement"))return;const t=document.createElement("div");t.classList.add("button"),t.classList.add("customElement"),t.innerText="New custom button",e.querySelector("header .filters").prepend(t)})),t=document.getElementById("wrapper");e.observe(t,{childList:!0,subtree:!0}),this._observers.push(e)}}class o extends n{run(){const e=new MutationObserver((e=>{console.log("MarketPage: mutation observed",e);const t=document.getElementById("marketContainer");if(!t)return;if(console.log("MarketPage: marketContainer detected"),t.querySelector(".customElement"))return;const n=document.createElement("a"),r=window.ty.subdomain;n.href=`/${r}/sets`,n.classList.add("customElement"),n.innerHTML="Sets",t.querySelector("header.page menu.secondaryMenu").append(n),console.log("MarketPage: button added")})),t=document.getElementById("wrapper");e.observe(t,{childList:!0,subtree:!0}),this._observers.push(e)}}let s;function c(){window.location.href.includes("/decks")&&(s=new r),window.location.href.includes("/market")&&(s=new o),s&&s.run()}window.navigation.addEventListener("navigate",(e=>{s&&s.disconnect(),s=null,c()})),c();
